{% extends "site/templates/base.html" %}
{% block title %}Exercise: {{ form.instance.name }}{% endblock %}
{% block head %}
      <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'></script>
      <script src='/static/codemirror-compressed.js' type="text/javascript" charset="utf-8"></script>
      <script src='/static/python.js' type="text/javascript" charset="utf-8"></script>
      <link rel="stylesheet" href="/static/codemirror.css">
      <link rel="stylesheet" href="/static/eclipse.css">
        <script>
            choosepython = {
            };

            $(function() {
                choosepython.codemirror = CodeMirror.fromTextArea($("#id_check")[0], {
                    mode: {
                        name: "python",
                        version: 2,
                        singleLineStringErrors: true
                        },
                    theme: "eclipse",
                    lineNumbers: true,
                    tabMode: "shift",
                    indentUnit: 4
                    });
                choosepython.codemirror = CodeMirror.fromTextArea($("#id_solution")[0], {
                    mode: {
                        name: "python",
                        version: 2,
                        singleLineStringErrors: true
                        },
                    theme: "eclipse",
                    lineNumbers: true,
                    tabMode: "shift",
                    indentUnit: 4
                    });
            });
        </script>
<script language="javascript" type="text/javascript" src="/static/tiny_mce/tiny_mce.js"></script>
<script language="javascript" type="text/javascript">
  tinyMCE.init({
    theme : "advanced",
    mode: "exact",
    elements : "id_text",
    content_css : "/static/style.css",
    theme_advanced_toolbar_location : "top",
    theme_advanced_buttons1 : "cut,copy,paste,|,"
    + "bold,italic,underline,|,"
    + "bullist,numlist,"
    + "link,unlink,|,"
    + "undo,redo,cleanup,code,charmap",
    theme_advanced_buttons2 : "",
    theme_advanced_buttons3 : "",
    height:"350px",
    width:"100%"
});

</script>
{% endblock head %}

{% block main %}
  {% if form.instance.id %}
    <h1>Edit Exercise</h1>
  {% else %}
    <h1>Add Exercise</h1>
  {% endif %}

  <form action="." method="post">
    {% csrf_token %}
    <fieldset>
      <div class='field'>
        {{ form.name.errors }}
        <label for="id_name">Name</label>
        <div class='widget'>{{ form.name }}</div>
      </div>
      <div class='field'>
        {{ form.slug.errors }}
        <label for="id_name">Slug</label>
        <div class='widget'>{{ form.slug }}</div>
      </div>
      <div class='field'>
        {{ form.text.errors }}
        <label for="id_text">Text<div class="explain">Explanation of the problem</div></label>
        <div class='widget'>{{ form.text }}</div>
      </div>
      <div class='field'>
        {{ form.check.errors }}
        <label for="id_check">Check<div class="explain">Code you provide to check the student's answer</div></label>
        <div class='widget'>{{ form.check }}</div>
      </div>
      <div class='field'>
        {{ form.solution.errors }}
        <label for="id_solution">Solution<div class="explain">A solution to the exercise</div></label>
        <div class='widget'>{{ form.solution }}</div>
      </div>

      <div class='field'>
        <div class='widget'><input type="submit" value="Save" /></div>
      </div>
    </fieldset>
  </form>
{% endblock main %}
